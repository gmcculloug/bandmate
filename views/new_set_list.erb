<h2>ðŸ“‹ Create New Set List</h2>

<% if defined?(@errors) && @errors.any? %>
    <div class="errors">
        <ul>
            <% @errors.each do |error| %>
                <li><%= error %></li>
            <% end %>
        </ul>
    </div>
<% end %>

<form method="POST" action="/set_lists" class="card">
    <div class="form-group">
        <label for="set_list_name">Set List Name *</label>
        <input type="text" id="set_list_name" name="name" placeholder="e.g., Friday Night Set, Acoustic Session" required autofocus>
    </div>



    <div class="form-group">
        <label for="set_list_venue_id">Venue</label>
        <select id="set_list_venue_id" name="venue_id">
            <option value="">Select Venue (Optional)</option>
            <% @venues.each do |venue| %>
                <option value="<%= venue.id %>"><%= venue.name %> - <%= venue.location %></option>
            <% end %>
        </select>
    </div>

    <div style="display: grid; grid-template-columns: 1fr; gap: 20px;">
        <style>
            @media (min-width: 768px) {
                .form-grid {
                    grid-template-columns: 1fr 1fr !important;
                }
            }
        </style>
        <div class="form-grid" style="display: grid; grid-template-columns: 1fr; gap: 20px;">
            <div class="form-group">
                <label for="set_list_performance_date">Performance Date *</label>
                <input type="date" id="set_list_performance_date" name="performance_date" required>
            </div>

            <div class="form-group">
                <label for="set_list_start_time">Start Time</label>
                <input type="time" id="set_list_start_time" name="start_time">
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="set_list_end_time">End Time</label>
        <input type="time" id="set_list_end_time" name="end_time">
    </div>

    <div class="form-group">
        <label for="set_list_notes">Notes</label>
        <textarea id="set_list_notes" name="notes" rows="3" placeholder="Any notes about this set list (special instructions, equipment needs, etc.)"></textarea>
    </div>

    <div class="actions">
        <button type="submit" class="btn btn-success">Create Set List</button>
        <a href="/set_lists" class="btn">Cancel</a>
    </div>
</form>

<% if defined?(@songs) && @songs.any? %>
    <div class="card" style="margin-top: 30px;">
        <h3>Available Songs</h3>
        <p>You can add songs to your set list after creating it, or browse your song library:</p>
        <a href="/songs" class="btn">Browse Songs</a>
    </div>
<% else %>
    <div class="card" style="margin-top: 30px;">
        <h3>No songs available</h3>
        <p>You'll need to add some songs to your library before you can create set lists.</p>
        <a href="/songs/new" class="btn btn-success">Add Your First Song</a>
    </div>
<% end %> 